---
title: Docker 卷管理：在容器外持久化数据
description: 
published: true
date: 2023-01-31T11:04:27.242Z
tags: 
editor: markdown
dateCreated: 2023-01-31T11:04:25.701Z
---

> 本文已使用 **Google Cloud Translation API 自动翻译**。
某些文档最好以原文阅读。{.is-info}

- [Docker Volume Management: Persisting Data Outside Containers***English** version of this document is available*](/en/Knowledge-base/Docker/docker-volume-management-persisting-data-outside-containers)
{.links-list}



# Docker 卷管理：在容器外持久化数据

使用 Docker 容器时，重要的是要考虑数据的存储和访问方式。容器内的数据是短暂的，这意味着它不会在容器停止或删除后保留。如果您需要将数据存储在容器之外，例如在数据库中，这可能是个问题。

在容器外存储数据主要有两种方式：

1. 使用像 Flocker 或 Rex-Ray 这样的卷管理器。如果您需要将数据存储在远程服务器上，或者如果您想要使用特定的存储后端（如 Amazon S3），这是一个不错的选择。
2.使用绑定挂载。如果您想在主机文件系统上存储数据，或者如果您需要使用特定文件系统（如 NFS），这是一个不错的选择。

在本文中，我们将重点关注绑定挂载。我们将涵盖以下主题：

- 什么是绑定安装？
- 如何使用绑定坐骑？
- 使用绑定安装有什么好处？
- 使用绑定安装有什么缺点？

## 什么是绑定挂载？

绑定挂载是一种挂载类型，其中将主机文件系统中的文件或目录挂载到容器中。然后可以从容器内部访问该文件或目录。

绑定挂载很有用，原因有很多：

- 您可以使用绑定挂载将数据保存在容器外。如果您需要将数据存储在数据库中或者如果您想要在容器之间共享数据，这将非常有用。
- 您可以使用绑定挂载来访问主机文件系统上的数据。如果您需要使用特定的文件系统，或者如果您想要访问未存储在容器中的数据，这将非常有用。

## 如何使用绑定挂载？

绑定挂载可以通过两种方式使用：

1. 可以使用`docker run`命令将宿主机文件系统中的文件或目录挂载到容器中。例如，以下命令会将主机文件系统中的“/data”目录挂载到容器中的“/data”目录中：

```
docker run -v /data:/data my-image
```

2. 您可以使用`docker volume` 命令创建命名卷，然后将其挂载到容器中。如果你想在容器之间共享数据，或者如果你想在容器外持久保存数据，命名卷就很有用。例如，以下命令将创建一个名为“my-volume”的命名卷，并将其挂载到容器中的“/data”目录中：

```
docker volume create my-volume
docker run -v my-volume:/data my-image
```

## 使用绑定挂载有什么好处？

绑定挂载有很多好处：

- 它们易于使用。您可以使用 `docker run` 命令将文件或目录从主机文件系统挂载到容器中。
- 他们很灵活。您可以将主机文件系统中的任何文件或目录挂载到容器中。
- 他们很快。绑定安装没有像 Flocker 或 Rex-Ray 这样的卷管理器的开销。

## 使用绑定挂载有什么缺点？

绑定安装有一些缺点：

- 它们不可携带。如果移动主机文件系统，绑定挂载将不再有效。
- 他们不安全。如果主机文件系统受到威胁，绑定挂载可用于访问容器中的数据。
- 它们不可扩展。如果您需要挂载许多文件或目录，绑定挂载可能会很慢。