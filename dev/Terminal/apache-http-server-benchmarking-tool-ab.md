---
title: ab - 아파치 웹서버 성능검사 도구
description: 
published: true
date: 2023-02-09T11:54:30.265Z
tags: ab, benchmark, http, linux, terminal
editor: markdown
dateCreated: 2023-02-09T11:49:37.008Z
---

"ab"라고도 하는 Apache HTTP 서버 벤치마킹 도구는 웹 서버의 성능을 측정하는 데 사용되는 도구입니다. 이 도구는 웹 서버에 대한 여러 클라이언트 요청을 시뮬레이트하고 서버의 응답 시간과 많은 수의 요청을 처리하는 기능에 대한 정보를 제공합니다. 이 기사에서는 ab 명령어의 기본 사항, 기능 및 샘플 사용법에 대해 설명합니다.

## ab 시작하기

ab는 Windows, macOS 및 Linux를 비롯한 다양한 운영 체제에 설치할 수 있는 Apache HTTP Server 패키지에 포함되어 있습니다. ab 도구를 사용하려면 먼저 Apache HTTP Server 혹은 `apache2-utils`가 시스템에 설치되어 있어야 합니다.

## 사용법

ab 명령어의 기본적인 사용 방법은 다음과 같습니다.

```bash
ab [options] [URL]
```


여기서 `options`는 벤치마크 방식으로 사용할 수 있는 다양한 플래그 및 매개변수이고 `URL`은 테스트하려는 웹 서버의 URL입니다.

## 옵션

다음은 ab 도구와 함께 가장 일반적으로 사용되는 옵션 중 일부입니다.

* `-n`: 수행할 요청 수입니다.

* `-c`: 수행할 동시 요청 수입니다.

* `-k`: HTTP KeepAlive 기능을 활성화하여 단일 HTTP 연결을 통해 여러 요청을 보낼 수 있습니다.

* `-t`: ab 도구가 실행되는 최대 시간(초)입니다.

* `-p`: 요청에 포함할 게시물 데이터가 포함된 파일입니다.

* `-T`: 요청에 포함된 데이터의 콘텐츠 유형입니다.

## Sample

다음 명령어를 사용하여 `http://google.com`의 웹 서버에 20개의 동시 요청으로 500개의 요청을 수행할 수 있습니다.

```강타
ab -n 500 -c 20 http://google.com/
```

이 명령어의 출력은 서버의 응답 시간, 초당 요청 수, 테스트에 소요된 시간 및 기타 다양한 성능 메트릭에 대한 정보를 제공합니다.

```
This is ApacheBench, Version 2.3 <$Revision: 1901567 $>
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Licensed to The Apache Software Foundation, http://www.apache.org/

Benchmarking google.com (be patient)
Completed 100 requests
Completed 200 requests
Completed 300 requests
Completed 400 requests
Completed 500 requests
Finished 500 requests


Server Software:        gws
Server Hostname:        google.com
Server Port:            80

Document Path:          /
Document Length:        219 bytes

Concurrency Level:      20
Time taken for tests:   6.834 seconds
Complete requests:      500
Failed requests:        0
Non-2xx responses:      500
Total transferred:      264000 bytes
HTML transferred:       109500 bytes
Requests per second:    73.17 [#/sec] (mean)
Time per request:       273.344 [ms] (mean)
Time per request:       13.667 [ms] (mean, across all concurrent requests)
Transfer rate:          37.73 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:       32   73  25.5     70     120
Processing:   129  173  33.4    166     428
Waiting:      126  171  33.3    165     428
Total:        163  246  55.5    239     471

Percentage of the requests served within a certain time (ms)
  50%    239
  66%    285
  75%    297
  80%    301
  90%    311
  95%    320
  98%    356
  99%    381
 100%    471 (longest request)
```


## 결론

ab 명령어는 웹 서버의 성능을 테스트하기 위한 필수 도구입니다. 웹 서버에 대한 여러 클라이언트 요청을 시뮬레이트하고 응답 시간과 많은 수의 요청을 처리하는 능력을 측정하는 빠르고 쉬운 방법을 제공합니다. ab 도구에서 사용할 수 있는 다양한 옵션과 매개변수를 사용하여 특정 테스트 요구 사항에 맞게 도구의 동작을 사용자 지정할 수 있습니다.

> **팁: ab 도구를 효과적으로 사용하는 방법은 무엇인가요?**
>
> Apache HTTP 서버 벤치마킹 도구(ab)를 효과적으로 사용하려면 도구의 목적, 사용 가능한 옵션 및 결과에 영향을 줄 수 있는 요소를 이해해야 합니다. 다음은 ab 도구를 효과적으로 사용하는 데 도움이 되는 몇 가지 팁입니다.
>
> 1. 테스트 목적 결정: ab 도구를 사용하기 전에 테스트 목적을 결정합니다. 이렇게 하면 테스트 목표를 충족하는 데 적합한 옵션과 매개변수를 선택하는 데 도움이 됩니다. 예를 들어 웹 서버가 처리할 수 있는 초당 최대 요청 수를 테스트하려는 경우 많은 수의 동시 요청과 많은 수의 총 요청을 사용할 수 있습니다.
>
> 2. 올바른 옵션 선택: 테스트 목적에 가장 적합한 옵션과 매개변수를 선택합니다. 예를 들어 웹 서버가 처리할 수 있는 최대 동시 요청 수를 테스트하려면 `-c` 옵션에 큰 값을 사용하십시오. 마찬가지로 부하가 높은 상태에서 서버의 응답 시간을 테스트하려면 `-n` 옵션에 큰 값을 사용하십시오.
>
> 3. 현실적인 테스트 데이터 사용: 프로덕션에서 웹 서버가 직면하게 될 실제 데이터 및 워크로드를 거의 모방하는 현실적인 테스트 데이터를 사용합니다. 이렇게 하면 보다 정확한 결과를 제공하고 실제 시나리오에서 발생할 수 있는 병목 현상이나 성능 문제를 식별하는 데 도움이 됩니다.
>
> 4. 서버 리소스 사용량 모니터링 : 테스트 중 CPU, 메모리 사용량 등 웹 서버의 리소스 사용량을 모니터링하여 스트레스를 받고 있는지, 성능에 영향을 줄 수 있는 리소스 제약이 있는지 확인합니다.
>
> 5. 테스트를 여러 번 반복: 테스트를 여러 번 반복하고 결과의 변화를 설명하기 위해 결과의 평균을 냅니다. 이렇게 하면 웹 서버의 성능을 보다 정확하게 파악할 수 있습니다.
>
> 6. 대표적인 테스트 환경 사용: 하드웨어, 네트워크 및 기타 관련 요소 측면에서 프로덕션 환경을 밀접하게 나타내는 테스트 환경을 사용합니다. 이렇게 하면 테스트 결과가 프로덕션 환경에서 웹 서버의 실제 성능을 나타낼 수 있습니다.
>
> 7. 올바른 URL 사용: 웹 서버를 테스트할 때 올바른 URL을 사용하십시오. 예를 들어 웹 애플리케이션을 테스트하는 경우 테스트하려는 특정 페이지의 URL을 사용합니다.

> **경고**
>
> Apache HTTP 서버 벤치마킹 도구(ab)를 사용할 때 주의해야 할 몇 가지 사항이 있습니다.
>
> 1. 테스트 환경: 하드웨어, 네트워크 및 기타 관련 요소를 포함한 테스트 환경은 테스트 결과에 큰 영향을 미칠 수 있습니다. 정확한 결과를 얻으려면 프로덕션 환경을 밀접하게 나타내는 테스트 환경을 사용해야 합니다.
>
> 2. 캐싱: 웹 서버는 종종 캐싱 메커니즘을 사용하여 성능을 향상시킵니다. 각 테스트 실행 전에 캐시를 지우지 않으면 테스트 결과가 잘못될 수 있습니다. 캐싱 효과를 제거하려면 각 테스트 전에 캐시를 지워야 합니다.
>
> 3. 테스트 머신의 부하: ab 도구를 실행하는 머신의 부하가 테스트 결과에 영향을 미칠 수 있습니다. 결과에 대한 잠재적인 영향을 제거하려면 최소한의 부하로 컴퓨터에서 ab 도구를 실행해야 합니다.
>
> 4. 네트워크 대기 시간: 네트워크 대기 시간은 특히 원격 시스템에 있는 웹 서버를 테스트할 때 테스트 결과에 큰 영향을 미칠 수 있습니다. 정확한 결과를 얻으려면 네트워크 대기 시간이 짧은 위치에서 웹 서버를 테스트해야 합니다.
>
> 5. 동시 요청: `-c` 옵션으로 지정한 동시 요청 수는 테스트 결과에 영향을 줄 수 있습니다. 많은 수의 동시 요청은 웹 서버에 부담을 주고 부정확한 결과를 생성할 수 있습니다. 반면 동시 요청 수가 적으면 웹 서버 성능에 대한 현실적인 그림을 제공하지 못할 수 있습니다. 정확한 결과를 얻으려면 동시 요청 수를 신중하게 선택하십시오.
>
> 6. 현실적인 테스트 데이터: 비현실적이거나 인위적인 테스트 데이터를 사용하면 부정확한 결과가 나올 수 있습니다. 프로덕션에서 웹 서버가 직면하게 될 실제 데이터 및 워크로드를 거의 모방하는 현실적인 테스트 데이터를 사용해야 합니다.
>
> 7. 기타 요인: 네트워크 정체 또는 방화벽 제한과 같이 테스트 결과에 영향을 줄 수 있는 기타 요인이 있을 수 있습니다. 이러한 요소를 인식하고 결과를 해석할 때 고려하십시오.
>
> .
{.is-warning}